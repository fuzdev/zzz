import"./DsnmJJEf.js";import{p as R,e as S,a as j,x as c,I as w,b as _,c as q,z as s,U as N,f as L,d as u,r as m,t as C,s as O,n as U,h as H}from"./D5lZjixV.js";import{s as J,d as K}from"./DTglyJSH.js";import{p as Q,i as B}from"./BQWOBWl6.js";import{a as A}from"./Smd9_sKB.js";import{b as V}from"./urcuiqkw.js";import{b as G}from"./XrxnSxoI.js";import{s as D}from"./y-Nlzw__.js";import{t as F,a as W,b as X,s as Y}from"./BkW_OYy7.js";import{E as Z}from"./CdaNZkWY.js";import{D as P}from"./CqbLzoC7.js";import{f as $}from"./Cido3K0Z.js";var tt=L("<input/>"),at=L('<span><span class="ellipsis"> </span></span>');function _t(b,r){R(r,!0);let v=Q(r,"value",15),i=w(!1),n=w(""),h=w(void 0),l=w(void 0);const o=async()=>{const e=c(n).trim();if(!e){s(i,!1);return}v(e),s(i,!1),await p()},f=async()=>{s(i,!1),s(n,""),await p()},d=async()=>{s(i,!0),s(n,v(),!0),await N().then(()=>c(h)?.select())},p=()=>N().then(()=>c(l)?.focus());var E={save:o,cancel:f,edit:d},k=S(),y=j(k);{var M=e=>{var t=tt(),T=async a=>{const{key:g}=a;g==="Enter"||g==="F2"?(D(a),await o()):g==="Escape"&&(D(a),await f())};A(t,()=>({type:"text",...r.attrs,...r.input_attrs,onblur:o,onkeydown:T}),void 0,void 0,void 0,"svelte-o5vt6k",!0),G(t,a=>s(h,a),()=>c(h)),V(t,()=>c(n),a=>s(n,a)),_(e,t)},z=e=>{var t=at(),T=async x=>{const{key:I}=x;(I==="Enter"||I===" "||I==="F2")&&(D(x),await d())};A(t,()=>({role:"button",tabindex:"0","aria-label":"click to edit",...r.attrs,...r.span_attrs,onclick:d,onkeydown:T}),void 0,void 0,void 0,"svelte-o5vt6k");var a=u(t),g=u(a,!0);m(a),m(t),G(t,x=>s(l,x),()=>c(l)),C(()=>J(g,v())),_(e,t)};B(y,e=>{c(i)?e(M):e(z,!1)})}return _(b,k),q(E)}function et(b){return-.5*(Math.cos(Math.PI*b)-1)}var st=L(`<div class="pt_lg"><div><aside><p>⚠️ This is an early prototype and your prompts are not saved yet, they are gone when you
					refresh the page. Soon the Node backend will persist data to a Postgres or pglite
					database. (<!>)</p> <button type="button" class="compact">ok</button></aside></div></div>`);function bt(b,r){R(r,!0);const v=$.get();var i=S(),n=j(i);{var h=l=>{var o=st(),f=u(o),d=u(f),p=u(d),E=O(u(p));Z(E,{href:"https://github.com/fuzdev/zzz/issues/7",children:(y,M)=>{U();var z=H("issue 7");_(y,z)},$$slots:{default:!0}}),U(),m(p);var k=O(p,2);k.__click=()=>{v.ui.tutorial_for_database=!1},m(d),m(f),m(o),F(2,d,()=>W,()=>({duration:P,easing:y=>et(y/3)})),F(2,f,()=>X,()=>({duration:P})),F(2,o,()=>Y,()=>({delay:P})),_(l,o)};B(n,l=>{v.ui.tutorial_for_database&&l(h)})}_(b,i),q()}K(["click"]);export{_t as E,bt as T};
