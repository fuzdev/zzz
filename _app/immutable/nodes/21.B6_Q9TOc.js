import"../chunks/DsnmJJEf.js";import{p as Ba,f as n,b as p,c as Ca,s as i,d as e,x as a,y as ea,r as t,t as x,a2 as Ea,e as Ga,a as Ha}from"../chunks/iOdzdy3x.js";import{d as Ia,s as m}from"../chunks/BEcV18IW.js";import{i as k}from"../chunks/D_ShskPG.js";import{s as j,r as Ja,e as J,c as Ka}from"../chunks/BFdLDlKi.js";import{b as sa}from"../chunks/dr4kURsa.js";import{r as y}from"../chunks/0t0-Q01r.js";import{p as Ma}from"../chunks/DUTOU-i9.js";import{P as Oa}from"../chunks/qE7b69L5.js";import{S as Qa,P as Ra}from"../chunks/CcY7VHHz.js";var Ta=n('<div class="display:flex gap_sm mb_sm"><button type="button" class="color_a">save</button> <button type="button" class="plain">cancel</button></div>'),Ua=n('<button type="button" class="plain">edit</button>'),Va=n('<div class="panel p_md width_atmost_md mb_lg"><div class="mb_md"><label>project name <input type="text" class="width:100%"/></label></div> <div><label>description <textarea class="width:100%" rows="3"></textarea></label></div></div>'),Wa=n('<p class="mb_lg width_atmost_md"> </p>'),Xa=n('<p class="text_50">no pages created yet</p>'),Ya=n('<li class="svelte-136fk71"><a> </a> <span class="text_50"> </span></li>'),Za=n('<ul class="pages_list svelte-136fk71"></ul>'),at=n('<p class="text_50">no domains configured yet</p>'),tt=n('<span class="ssl_badge svelte-136fk71">SSL</span>'),et=n('<li class="svelte-136fk71"><a><span class="domain_name svelte-136fk71"> </span></a> <div class="domain_details svelte-136fk71"><span> </span> <!></div></li>'),st=n('<ul class="domains_list svelte-136fk71"></ul>'),rt=n('<p class="text_50">no repos configured yet</p>'),vt=n('<li class="svelte-136fk71"><a><span class="repo_url svelte-136fk71"> </span></a> <div class="repo_details svelte-136fk71"><span class="checkout_badge svelte-136fk71"> </span></div></li>'),it=n('<ul class="repos_list svelte-136fk71"></ul>'),ot=n('<div class="p_lg"><h1 class="mb_0"> </h1> <div><!></div> <!> <div class="display:flex gap_md mb_lg"><span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span></div> <div class="projects_grid svelte-136fk71"><div class="panel p_md"><h2 class="mt_0 mb_lg"><a>pages</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add page</button></div></div> <div class="panel p_md"><h2 class="mt_0 mb_lg"><a>domains</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add domain</button></div></div> <div class="panel p_md"><h2 class="mt_0 mb_lg"><a>repos</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add repo</button></div></div></div></div>'),_t=n('<div class="project_layout svelte-136fk71"><!> <!> <div class="project_content svelte-136fk71"><!></div></div>');function ht(ra,va){Ba(va,!0);const K=Ma.get(),c=ea(()=>K.current_project_viewmodel),v=ea(()=>K.current_project);var S=_t(),M=e(S);Oa(M,{});var O=i(M,2);{var ia=g=>{Qa(g,{get project(){return a(v)},section:"project"})};k(O,g=>{a(v)&&g(ia)})}var Q=i(O,2),oa=e(Q);{var _a=g=>{var $=ot(),D=e($),da=e(D,!0);t(D);var P=i(D,2),pa=e(P);{var na=s=>{var r=Ta(),_=e(r);_.__click=()=>a(c).save_project_details();var o=i(_,2);o.__click=()=>{a(c).editing_project=!1,a(c).reset_form()},t(r),x(()=>_.disabled=!a(c).has_changes),p(s,r)},ca=s=>{var r=Ua();r.__click=()=>a(c).editing_project=!0,p(s,r)};k(pa,s=>{a(c).editing_project?s(na):s(ca,!1)})}t(P);var R=i(P,2);{var ma=s=>{var r=Va(),_=e(r),o=e(_),d=i(e(o));Ja(d),t(o),t(_);var l=i(_,2),u=e(l),b=i(e(u));Ea(b),t(u),t(l),t(r),sa(d,()=>a(c).edited_name,f=>a(c).edited_name=f),sa(b,()=>a(c).edited_description,f=>a(c).edited_description=f),p(s,r)},ua=s=>{var r=Ga(),_=Ha(r);{var o=d=>{var l=Wa(),u=e(l,!0);t(l),x(()=>m(u,a(v).description)),p(d,l)};k(_,d=>{a(v).description&&d(o)},!0)}p(s,r)};k(R,s=>{a(c).editing_project?s(ma):s(ua,!1)})}var L=i(R,2),F=e(L),fa=e(F);t(F);var N=i(F,2),ga=e(N);t(N);var q=i(N,2),ba=e(q);t(q);var z=i(q,2),ha=e(z);t(z);var T=i(z,2),ka=e(T);t(T),t(L);var U=i(L,2),A=e(U),B=e(A),xa=e(B);t(B);var V=i(B,2);{var ja=s=>{var r=Xa();p(s,r)},ya=s=>{var r=Za();J(r,21,()=>a(v).pages,_=>_.id,(_,o)=>{var d=Ya(),l=e(d),u=e(l,!0);t(l);var b=i(l,2),f=e(b,!0);t(b),t(d),x(h=>{j(l,"href",h),m(u,a(o).title),m(f,a(o).path)},[()=>y(`/projects/${a(v).id}/pages/${a(o).id}`)]),p(_,d)}),t(r),p(s,r)};k(V,s=>{a(v).pages.length===0?s(ja):s(ya,!1)})}var W=i(V,2),wa=e(W);wa.__click=()=>a(c).create_new_page(),t(W),t(A);var C=i(A,2),E=e(C),Sa=e(E);t(E);var X=i(E,2);{var $a=s=>{var r=at();p(s,r)},Da=s=>{var r=st();J(r,21,()=>a(v).domains,_=>_.id,(_,o)=>{var d=et(),l=e(d),u=e(l),b=e(u,!0);t(u),t(l);var f=i(l,2),h=e(f),H=e(h,!0);t(h);var I=i(h,2);{var za=w=>{var Aa=tt();p(w,Aa)};k(I,w=>{a(o).ssl&&w(za)})}t(f),t(d),x(w=>{j(l,"href",w),m(b,a(o).name),Ka(h,1,`status_badge ${a(o).status==="active"?"status_active":a(o).status==="pending"?"status_pending":"status_inactive"}`,"svelte-136fk71"),m(H,a(o).status)},[()=>y(`/projects/${a(v).id}/domains/${a(o).id}`)]),p(_,d)}),t(r),p(s,r)};k(X,s=>{a(v).domains.length===0?s($a):s(Da,!1)})}var Y=i(X,2),Pa=e(Y);Pa.__click=()=>a(c).create_new_domain(),t(Y),t(C);var Z=i(C,2),G=e(Z),La=e(G);t(G);var aa=i(G,2);{var Fa=s=>{var r=rt();p(s,r)},Na=s=>{var r=it();J(r,21,()=>a(v).repos,_=>_.id,(_,o)=>{var d=vt(),l=e(d),u=e(l),b=e(u,!0);t(u),t(l);var f=i(l,2),h=e(f),H=e(h);t(h),t(f),t(d),x(I=>{j(l,"href",I),m(b,a(o).git_url||"[new repo]"),m(H,`${a(o).checkouts.length??""}
												checkout dir${a(o).checkouts.length===1?"":"s"}`)},[()=>y(`/projects/${a(v).id}/repos/${a(o).id}`)]),p(_,d)}),t(r),p(s,r)};k(aa,s=>{a(v).repos.length===0?s(Fa):s(Na,!1)})}var ta=i(aa,2),qa=e(ta);qa.__click=()=>a(c).create_new_repo(),t(ta),t(Z),t(U),t($),x((s,r,_,o,d)=>{m(da,a(v).name),m(fa,`${a(v).pages.length??""}
						${a(v).pages.length===1?"page":"pages"}`),m(ga,`${a(v).domains.length??""}
						${a(v).domains.length===1?"domain":"domains"}`),m(ba,`${a(v).repos.length??""}
						${a(v).repos.length===1?"repo":"repos"}`),m(ha,`created ${s??""}`),m(ka,`updated ${r??""}`),j(xa,"href",_),j(Sa,"href",o),j(La,"href",d)},[()=>new Date(a(v).created).toLocaleDateString(),()=>new Date(a(v).updated).toLocaleDateString(),()=>y(`/projects/${a(v).id}/pages`),()=>y(`/projects/${a(v).id}/domains`),()=>y(`/projects/${a(v).id}/repos`)]),p(g,$)},la=g=>{Ra(g,{})};k(oa,g=>{a(v)&&a(c)?g(_a):g(la,!1)})}t(Q),t(S),p(ra,S),Ca()}Ia(["click"]);export{ht as component};
